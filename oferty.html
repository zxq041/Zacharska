<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wszystkie oferty - Centrum nieruchomości</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

 <script type="text/babel">
const { useEffect, useMemo, useRef, useState } = React;

/* ---------- UTILITIES ---------- */
const cn = (...classes) => classes.filter(Boolean).join(" ");
const clamp = (n, min, max) => Math.max(min, Math.min(n, max));
const currency = (n) =>
  new Intl.NumberFormat("pl-PL", {
    style: "currency",
    currency: "PLN",
    maximumFractionDigits: 0,
  }).format(n);
const useLocalStorage = (key, initial) => {
  const [state, setState] = useState(() => {
    try {
      const raw = localStorage.getItem(key);
      return raw ? JSON.parse(raw) : initial;
    } catch {
      return initial;
    }
  });
  useEffect(() => {
    try {
      localStorage.setItem(key, JSON.stringify(state));
    } catch {}
  }, [key, state]);
  return [state, setState];
};

/* ---------- ICONS / UI ---------- */
const Icon = ({ name, className }) => {
  const icons = {
    MapPin: (
      <>
        <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
        <circle cx="12" cy="10" r="3" />
      </>
    ),
    Phone: (
      <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
    ),
    Mail: (
      <>
        <rect width="20" height="16" x="2" y="4" rx="2" />
        <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
      </>
    ),
    Menu: (
      <>
        <line x1="4" x2="20" y1="12" y2="12" />
        <line x1="4" x2="20" y1="6" y2="6" />
        <line x1="4" x2="20" y1="18" y2="18" />
      </>
    ),
    Heart: <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />,
    ChevronLeft: <path d="m15 18-6-6 6-6" />,
    X: (
      <>
        <path d="M18 6 6 18" />
        <path d="m6 6 12 12" />
      </>
    ),
    Languages: (
      <>
        <path d="m5 8 6 6" />
        <path d="m4 14 6-6 2-3" />
        <path d="M2 5h12" />
        <path d="M7 2h1" />
        <path d="m22 22-5-10-5 10" />
        <path d="M14 18h6" />
      </>
    ),
    LogIn: (
      <>
        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
        <polyline points="10 17 15 12 10 7" />
        <line x1="15" x2="3" y1="12" y2="12" />
      </>
    ),
    LogOut: (
      <>
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
        <polyline points="16 17 21 12 16 7" />
        <line x1="21" x2="9" y1="12" y2="12" />
      </>
    ),
    UserPlus: (
      <>
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
        <circle cx="9" cy="7" r="4" />
        <line x1="19" x2="19" y1="8" y2="14" />
        <line x1="22" x2="16" y1="11" y2="11" />
      </>
    ),
    Loader2: <path d="M21 12a9 9 0 1 1-6.219-8.56" />,
  };
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      className={cn("h-4 w-4", className)}
    >
      {icons[name]}
    </svg>
  );
};

const Button = ({ variant = "default", size = "default", className, children, ...props }) => {
  const variants = {
    default: "bg-blue-600 text-white hover:bg-blue-700",
    destructive: "bg-red-500 text-white hover:bg-red-600",
    outline: "border border-zinc-200 bg-transparent hover:bg-blue-50",
    secondary: "bg-blue-100 text-blue-800 hover:bg-blue-200",
    ghost: "hover:bg-blue-100",
    link: "text-blue-600 underline-offset-4 hover:underline",
  };
  const sizes = {
    default: "h-10 px-4 py-2",
    sm: "h-9 rounded-md px-3",
    lg: "h-11 rounded-md px-8",
    icon: "h-10 w-10",
  };
  return (
    <button
      className={cn(
        "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none",
        variants[variant],
        sizes[size],
        className
      )}
      {...props}
    >
      {children}
    </button>
  );
};
const Card = ({ className, children }) => (
  <div className={cn("rounded-lg border bg-card text-card-foreground shadow-sm", className)}>{children}</div>
);
const CardHeader = ({ className, children }) => <div className={cn("flex flex-col space-y-1.5 p-6", className)}>{children}</div>;
const CardTitle = ({ className, children }) => <h3 className={cn("text-2xl font-semibold leading-none tracking-tight", className)}>{children}</h3>;
const CardContent = ({ className, children }) => <div className={cn("p-6 pt-0", className)}>{children}</div>;
const Input = ({ className, ...props }) => (
  <input
    className={cn(
      "flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",
      className
    )}
    {...props}
  />
);
const Badge = ({ variant = "default", className, children }) => {
  const variants = {
    default: "border-transparent bg-blue-600 text-blue-50",
    secondary: "border-transparent bg-blue-100 text-blue-900",
  };
  return (
    <div className={cn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors", variants[variant], className)}>{children}</div>
  );
};
const Skeleton = ({ className }) => <div className={cn("animate-pulse rounded-md bg-zinc-200", className)} />;

/* ---------- I18N ---------- */
const dict = {
  pl: {
    nav: ["Oferty", "O nas", "Opinie", "Kontakt"],
    allOffers: "Wszystkie Oferty",
    filters: {
      location: "Lokalizacja",
      price: "Cena",
      area: "Metraż",
      rooms: "Pokoje",
      type: "Typ",
      newest: "Najnowsze",
      cheapest: "Najtańsze",
      featured: "Polecane",
      grid: "Siatka",
      list: "Lista",
      fav: "Ulubione",
      clear: "Wyczyść",
    },
  },
  en: {
    nav: ["Listings", "About", "Reviews", "Contact"],
    allOffers: "All Listings",
    filters: {
      location: "Location",
      price: "Price",
      area: "Area",
      rooms: "Rooms",
      type: "Type",
      newest: "Newest",
      cheapest: "Cheapest",
      featured: "Featured",
      grid: "Grid",
      list: "List",
      fav: "Favourites",
      clear: "Clear",
    },
  },
};

/* ---------- ROOT APP ---------- */
function App() {
  const [lang, setLang] = useState("pl");
  const t = dict[lang];
  const [menuOpen, setMenuOpen] = useState(false);
  const [authed, setAuthed] = useLocalStorage("auth", { logged: false, name: "" });
  const [favs, setFavs] = useLocalStorage("favs", []);
  const [listings, setListings] = useState([]);
  const [loading, setLoading] = useState(true);

  const isAdmin = window.location.pathname.endsWith("/panel");

  const loadListings = async () => {
    setLoading(true);
    try {
      const res = await fetch("/api/listings");
      const data = await res.json();
      setListings(data || []);
    } catch (e) {
      console.error(e);
      setListings([]);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    loadListings();
  }, []);

  const toggleFav = (id) =>
    setFavs((prev) => (prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id]));

  const goBack = () => {
    window.location.href = "index.html";
  };

  return (
    <div className="min-h-screen bg-gradient-to-b from-blue-50 via-white to-blue-50 text-zinc-900 selection:bg-blue-200 selection:text-blue-900">
      <Header t={t} lang={lang} setLang={setLang} authed={authed} setAuthed={setAuthed} menuOpen={menuOpen} setMenuOpen={setMenuOpen} />
      <main>
        {isAdmin && <AdminPanel onAdded={loadListings} listings={listings} />}
        <AllOffers
          t={t}
          favs={favs}
          toggleFav={toggleFav}
          onBack={goBack}
          listings={listings}
          loading={loading}
        />
      </main>
      <Footer />
    </div>
  );
}

/* ---------- HEADER (skrócony – jak u Ciebie) ---------- */
function Header({ lang, setLang, t, authed, setAuthed, menuOpen, setMenuOpen }) {
  return (
    <header className="sticky top-0 z-50 backdrop-blur-xl bg-white/60 border-b border-zinc-200/70">
      <div className="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
        <a href="index.html" className="flex items-center gap-3">
          <img src="https://i.imgur.com/UwnwhuV.png" alt="Centrum nieruchomości Logo" className="h-12 w-12" />
          <div>
            <div className="font-semibold tracking-tight">Centrum nieruchomości</div>
            <div className="text-xs text-zinc-600">Zacharska Klaudia</div>
          </div>
        </a>
        <nav className="hidden md:flex items-center gap-6 text-sm">
          <a href="index.html#offers" className="relative py-1.5">Oferty</a>
          <a href="index.html#about" className="relative py-1.5">O nas</a>
          <a href="index.html#testimonials" className="relative py-1.5">Opinie</a>
          <a href="index.html#contact" className="relative py-1.5">Kontakt</a>
          <a href="oferty.html"><Button variant="secondary" className="shadow-sm">{t.allOffers}</Button></a>
          <Button variant="ghost" className="gap-2" onClick={() => setLang(lang === "pl" ? "en" : "pl")}>
            <Icon name="Languages" /> {lang.toUpperCase()}
          </Button>
        </nav>
      </div>
    </header>
  );
}

/* ---------- KAFELKI ---------- */
function OfferCard({ data, fav, onFav }) {
  return (
    <div className="relative group">
      <Card className="overflow-hidden rounded-3xl border-zinc-200/70 bg-white/80 backdrop-blur-xl shadow-[0_20px_60px_-25px_rgba(0,0,0,0.15)] transition-transform duration-300 group-hover:-translate-y-1">
        <div className="relative h-56">
          <img src={data.image} alt={data.title} className="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105" />
          <button
            onClick={onFav}
            className={cn(
              "absolute top-3 right-3 p-2 rounded-xl transition-all",
              fav ? "bg-red-500 text-white" : "bg-white/80 text-zinc-800 hover:bg-white"
            )}
          >
            <Icon name="Heart" className={cn("h-4 w-4", fav && "fill-current")} />
          </button>
          <Badge className="absolute left-3 top-3 bg-black/70 text-white backdrop-blur">{data.type}</Badge>
        </div>
        <CardHeader>
          <CardTitle className="text-xl">{data.title}</CardTitle>
          <div className="flex items-center gap-2 text-zinc-500 text-sm">
            <Icon name="MapPin" /> {data.city} • {data.area} m² • {data.rooms} pokoje
          </div>
        </CardHeader>
        <CardContent className="flex items-center justify-between">
          <div className="text-2xl font-semibold">{currency(data.price)}</div>
          <Button variant="outline" className="rounded-xl">Szczegóły</Button>
        </CardContent>
      </Card>
    </div>
  );
}

/* ---------- ADMIN PANEL (pokazuje się tylko na /panel) ---------- */
function AdminPanel({ onAdded, listings }) {
  const [form, setForm] = useState({
    title: "",
    city: "",
    price: "",
    rooms: "",
    area: "",
    type: "Mieszkanie",
    floor: "",
    terrace: false,
    garden: false,
    image: "",
    description: "",
  });
  const [busy, setBusy] = useState(false);

  const submit = async (e) => {
    e.preventDefault();
    setBusy(true);
    try {
      const res = await fetch("/api/listings", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(form),
      });
      if (!res.ok) throw new Error("POST_FAILED");
      setForm({
        title: "",
        city: "",
        price: "",
        rooms: "",
        area: "",
        type: "Mieszkanie",
        floor: "",
        terrace: false,
        garden: false,
        image: "",
        description: "",
      });
      await onAdded();
      alert("Dodano ogłoszenie ✅");
    } catch (e) {
      console.error(e);
      alert("Błąd podczas dodawania ogłoszenia");
    } finally {
      setBusy(false);
    }
  };

  const removeItem = async (id) => {
    if (!confirm("Usunąć ogłoszenie?")) return;
    try {
      const res = await fetch(`/api/listings/${id}`, { method: "DELETE" });
      if (!res.ok) throw new Error("DELETE_FAILED");
      await onAdded();
    } catch (e) {
      console.error(e);
      alert("Błąd podczas usuwania");
    }
  };

  return (
    <section className="w-full py-8">
      <div className="mx-auto max-w-7xl px-4">
        <div className="rounded-2xl border bg-white/80 backdrop-blur p-6 shadow-sm">
          <h2 className="text-2xl font-semibold mb-4">Panel administratora</h2>
          <form className="grid md:grid-cols-3 gap-3" onSubmit={submit}>
            <Input placeholder="Tytuł" value={form.title} onChange={(e) => setForm({ ...form, title: e.target.value })} required />
            <Input placeholder="Miasto" value={form.city} onChange={(e) => setForm({ ...form, city: e.target.value })} required />
            <Input placeholder="Cena (PLN)" type="number" value={form.price} onChange={(e) => setForm({ ...form, price: e.target.value })} required />
            <Input placeholder="Pokoje" type="number" value={form.rooms} onChange={(e) => setForm({ ...form, rooms: e.target.value })} />
            <Input placeholder="Metraż (m²)" type="number" value={form.area} onChange={(e) => setForm({ ...form, area: e.target.value })} />
            <Input placeholder="Piętro" type="number" value={form.floor} onChange={(e) => setForm({ ...form, floor: e.target.value })} />
            <select className="rounded-md border p-2 text-sm bg-white" value={form.type} onChange={(e) => setForm({ ...form, type: e.target.value })}>
              <option>Mieszkanie</option><option>Dom</option><option>Apartament</option><option>Loft</option>
            </select>
            <label className="flex items-center gap-2 text-sm">
              <input type="checkbox" checked={form.terrace} onChange={(e) => setForm({ ...form, terrace: e.target.checked })} /> Taras
            </label>
            <label className="flex items-center gap-2 text-sm">
              <input type="checkbox" checked={form.garden} onChange={(e) => setForm({ ...form, garden: e.target.checked })} /> Ogród
            </label>
            <Input className="md:col-span-3" placeholder="URL zdjęcia" value={form.image} onChange={(e) => setForm({ ...form, image: e.target.value })} />
            <Input className="md:col-span-3" placeholder="Opis" value={form.description} onChange={(e) => setForm({ ...form, description: e.target.value })} />
            <div className="md:col-span-3 flex justify-end">
              <Button type="submit" disabled={busy}>{busy ? "Zapisywanie..." : "Dodaj ogłoszenie"}</Button>
            </div>
          </form>

          <div className="mt-6">
            <h3 className="font-semibold mb-2">Aktualne ogłoszenia ({listings.length})</h3>
            <div className="overflow-x-auto">
              <table className="w-full text-sm">
                <thead>
                  <tr className="text-left border-b">
                    <th className="py-2 pr-3">Tytuł</th>
                    <th className="py-2 pr-3">Miasto</th>
                    <th className="py-2 pr-3">Cena</th>
                    <th className="py-2 pr-3">Akcje</th>
                  </tr>
                </thead>
                <tbody>
                  {listings.map((l) => (
                    <tr key={l.id} className="border-b">
                      <td className="py-2 pr-3">{l.title}</td>
                      <td className="py-2 pr-3">{l.city}</td>
                      <td className="py-2 pr-3">{currency(l.price)}</td>
                      <td className="py-2 pr-3">
                        <Button variant="destructive" onClick={() => removeItem(l.id)}>Usuń</Button>
                      </td>
                    </tr>
                  ))}
                  {listings.length === 0 && (
                    <tr><td className="py-3 text-zinc-500" colSpan="4">Brak ogłoszeń</td></tr>
                  )}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
}

/* ---------- LISTA + FILTRY ---------- */
function AllOffers({ t, favs, toggleFav, onBack, listings, loading }) {
  const [query, setQuery] = useState("");
  const [city, setCity] = useState("");
  const [type, setType] = useState("");
  const [rooms, setRooms] = useState(0);
  const [area, setArea] = useState([30, 160]);
  const [price, setPrice] = useState([300000, 1500000]);
  const [sort, setSort] = useState("newest");
  const [grid, setGrid] = useState(true);
  const [page, setPage] = useState(1);
  const [selectedOffer, setSelectedOffer] = useState(null);
  const pageSize = 9;

  const cities = useMemo(() => [...new Set(listings.map((x) => x.city).filter(Boolean))], [listings]);
  const types  = useMemo(() => [...new Set(listings.map((x) => x.type).filter(Boolean))], [listings]);

  const filtered = useMemo(() => {
    let out = listings.filter(
      (x) =>
        (!query || x.title?.toLowerCase().includes(query.toLowerCase())) &&
        (!city || x.city === city) &&
        (!type || x.type === type) &&
        (rooms ? (x.rooms || 0) >= rooms : true) &&
        (x.area || 0) >= area[0] &&
        (x.area || 0) <= area[1] &&
        (x.price || 0) >= price[0] &&
        (x.price || 0) <= price[1]
    );
    if (sort === "cheapest") out.sort((a, b) => (a.price || 0) - (b.price || 0));
    else if (sort === "newest") out.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
    else if (sort === "featured")
      out.sort((a, b) => (b.terrace ? 1 : 0) - (a.terrace ? 1 : 0) || new Date(b.createdAt) - new Date(a.createdAt));
    return out;
  }, [query, city, type, rooms, area, price, sort, listings]);

  const visible = filtered.slice(0, page * pageSize);
  const canLoad = visible.length < filtered.length;

  useEffect(() => {
    const onScroll = () => {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 200 && canLoad) setPage((p) => p + 1);
    };
    window.addEventListener("scroll", onScroll);
    return () => window.removeEventListener("scroll", onScroll);
  }, [canLoad, filtered]);

  const resetFilters = () => {
    setQuery("");
    setCity("");
    setType("");
    setRooms(0);
    setArea([30, 160]);
    setPrice([300000, 1500000]);
    setSort("newest");
    setPage(1);
  };

  return (
    <>
      <section className="w-full py-10 min-h-screen">
        <div className="mx-auto max-w-7xl px-4">
          <div className="flex items-center justify-between gap-3">
            <div className="flex items-center gap-3">
              <Button variant="outline" onClick={onBack} className="rounded-xl">
                <Icon name="ChevronLeft" className="mr-2" />
                Wróć
              </Button>
              <h2 className="text-2xl md:text-3xl font-semibold tracking-tight">{t.allOffers}</h2>
              <Badge variant="secondary">{filtered.length}</Badge>
            </div>
            <div className="hidden md:flex items-center gap-2">
              <Button variant={grid ? "default" : "outline"} onClick={() => setGrid(true)} className="rounded-xl">
                {t.filters.grid}
              </Button>
              <Button variant={!grid ? "default" : "outline"} onClick={() => setGrid(false)} className="rounded-xl">
                {t.filters.list}
              </Button>
            </div>
          </div>

          <div className="mt-6 grid md:grid-cols-12 gap-3 p-4 rounded-2xl bg-white/70 backdrop-blur border shadow-sm">
            <div className="md:col-span-3">
              <Input placeholder="Szukaj..." value={query} onChange={(e) => { setQuery(e.target.value); setPage(1); }} />
            </div>

            <select className="md:col-span-2 rounded-xl border p-2 text-sm bg-white focus:ring-2 focus:ring-blue-500"
              value={city} onChange={(e) => { setCity(e.target.value); setPage(1); }}>
              <option value="">{t.filters.location}</option>
              {cities.map((c) => (<option key={c} value={c}>{c}</option>))}
            </select>

            <select className="md:col-span-2 rounded-xl border p-2 text-sm bg-white focus:ring-2 focus:ring-blue-500"
              value={type} onChange={(e) => { setType(e.target.value); setPage(1); }}>
              <option value="">{t.filters.type}</option>
              {types.map((c) => (<option key={c} value={c}>{c}</option>))}
            </select>

            <select className="md:col-span-2 rounded-xl border p-2 text-sm bg-white focus:ring-2 focus:ring-blue-500"
              value={rooms} onChange={(e) => { setRooms(Number(e.target.value)); setPage(1); }}>
              <option value={0}>{t.filters.rooms}</option>
              {[1,2,3,4,5].map((r) => (<option key={r} value={r}>{r}+</option>))}
            </select>

            <select className="md:col-span-2 rounded-xl border p-2 text-sm bg-white focus:ring-2 focus:ring-blue-500"
              value={sort} onChange={(e) => setSort(e.target.value)}>
              <option value="newest">{t.filters.newest}</option>
              <option value="cheapest">{t.filters.cheapest}</option>
              <option value="featured">{t.filters.featured}</option>
            </select>
          </div>

          {/* LISTA */}
          {loading ? (
            <div className="mt-6 grid md:grid-cols-3 gap-4">
              {Array.from({ length: 6 }).map((_, i) => <Skeleton key={i} className="h-80 rounded-3xl" />)}
            </div>
          ) : (
            <div className={cn("mt-6 grid gap-4", grid ? "md:grid-cols-3" : "grid-cols-1")}>
              {visible.map((item) => (
                <div key={item.id} className="cursor-pointer">
                  {grid ? (
                    <OfferCard
                      data={item}
                      fav={favs.includes(item.id)}
                      onFav={(e) => { e.stopPropagation(); toggleFav(item.id); }}
                    />
                  ) : (
                    <div className="rounded-2xl overflow-hidden border bg-white/70 backdrop-blur shadow-sm hover:shadow-md transition-shadow">
                      <div className="flex gap-4 p-3">
                        <img src={item.image} className="h-28 w-40 rounded-xl object-cover" alt={item.title} />
                        <div className="flex-1">
                          <div className="flex items-start justify-between">
                            <div>
                              <h4 className="font-semibold">{item.title}</h4>
                              <div className="text-sm text-zinc-500">
                                {item.city} • {item.area} m² • {item.rooms} pokoje • piętro {item.floor}
                              </div>
                            </div>
                            <div className="text-xl font-semibold">{currency(item.price)}</div>
                          </div>
                          <div className="mt-2 flex items-center gap-2">
                            {item.terrace && <Badge>Taras</Badge>}
                            {item.garden && <Badge variant="secondary">Ogród</Badge>}
                            <button
                              onClick={(e) => { e.stopPropagation(); toggleFav(item.id); }}
                              className={cn("ml-auto p-2 rounded-xl", favs.includes(item.id) ? "bg-red-500 text-white" : "bg-white text-zinc-700 border hover:bg-zinc-100")}
                            >
                              <Icon name="Heart" className={cn("h-4 w-4", favs.includes(item.id) && "fill-current")} />
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
              ))}
            </div>
          )}

          {canLoad && (
            <div className="mt-6 grid md:grid-cols-3 gap-4">
              {Array.from({ length: 3 }).map((_, i) => <Skeleton key={i} className="h-80 rounded-3xl" />)}
            </div>
          )}
        </div>
      </section>
    </>
  );
}

/* ---------- FOOTER ---------- */
function Footer() {
  return (
    <footer className="py-10 border-t bg-white/60 backdrop-blur">
      <div className="mx-auto max-w-7xl px-4 flex flex-col items-center text-center gap-4 text-sm text-zinc-600">
        <div className="flex items-center gap-3">
          <img src="https://i.imgur.com/UwnwhuV.png" alt="Centrum nieruchomości Logo" className="h-10 w-10" />
          <div>
            <div className="font-semibold tracking-tight">© {new Date().getFullYear()} Centrum nieruchomości</div>
            <div className="text-xs text-zinc-600">Zacharska Klaudia</div>
          </div>
        </div>
        <div className="flex items-center gap-4">
          <a href="#" className="hover:text-blue-600">Polityka prywatności</a>
          <a href="#" className="hover:text-blue-600">RODO</a>
        </div>
      </div>
    </footer>
  );
}

const container = document.getElementById("root");
const root = ReactDOM.createRoot(container);
root.render(<App />);
</script>

</body>

</html>
